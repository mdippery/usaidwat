#!/usr/bin/env ruby

require 'usaidwat'
require 'usaidwat/commands'


VERSION = "usaidwat v#{USaidWat::VERSION}"
USAGE = "Usage: #{File.basename $0} <user> [<subreddit>]"

def die(code=1)
  $stderr.puts VERSION
  $stderr.puts USAGE
  exit code
end

die if ARGV.length < 1 or ARGV.length > 2

if ARGV.first == '--help' or ARGV.first == '-h'
  puts USAGE
  exit 0
end

if ARGV.first == '--version' or ARGV.first == '-V'
  puts VERSION
  exit 0
end

if ARGV.length == 1
  USaidWat::Commands.count
else
  USaidWat::Commands.subreddit
end
